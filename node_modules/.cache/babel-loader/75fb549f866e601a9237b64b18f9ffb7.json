{"ast":null,"code":"import _classCallCheck from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\";\nimport Activity from \"./components/Activity\";\nvar API_URL = 'http://localhost:3000/';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onNavClick = function (activeNav) {\n      _this.setState({\n        activeNav: activeNav\n      });\n    };\n\n    _this.state = {\n      activeNav: \"home\",\n      userInfo: undefined,\n      activityInfo: undefined,\n      activityForm: false,\n      username: '',\n      // loginForm: false,\n      userForm: false // showProfile: false\n\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"handleChange\",\n    // show the login form to show\n    // setLoginForm() {\n    //   this.setState({\n    //     loginForm: !this.state.loginForm,\n    //     userForm: false\n    //   });\n    // }\n    value: function handleChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    } // handle the user name to check if he is registered or no \n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      fetch(\"\".concat(API_URL, \"user/\").concat(this.state.username)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.setState({\n          userInfo: data,\n          loginForm: false\n        });\n      }).catch(function (error) {\n        console.log('App.js handleSubmit function: ', error);\n        alert({\n          title: \"This username NOT Registered\",\n          icon: \"warning\"\n        });\n      });\n      console.log(this.state.userInfo);\n    } //handel thre form sumbmission if the user to create a new user or updtae user info\n\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(user) {\n      this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user);\n    } // update user information in the database \n\n  }, {\n    key: \"updateUserInfo\",\n    value: function updateUserInfo(user) {\n      var _this3 = this;\n\n      console.log(\"##\", user);\n      var url = \"\".concat(API_URL, \"user/\").concat(user.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this3.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"createNewUser\",\n    value: function createNewUser(user) {\n      var _this4 = this;\n\n      var url = \"\".concat(API_URL, \"user\");\n      console.log(\"uuuuuuuuuuuser info\", user);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"uuuuuuuuuuuser data\", data);\n\n        _this4.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log('createNewUser Error: ', error);\n        alert(\"Tnis username or email is Registerd.\");\n      });\n    } // update user information in the database \n\n  }, {\n    key: \"updateUserInfo\",\n    value: function updateUserInfo(user) {\n      var _this5 = this;\n\n      console.log(\"##\", user);\n      var url = \"\".concat(API_URL, \"user/\").concat(user.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this5.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleRegister\",\n    value: function handleRegister() {\n      this.setState({\n        userForm: !this.state.userForm,\n        loginForm: false\n      });\n    } // render user form for the registeration\n\n  }, {\n    key: \"renderUserForm\",\n    value: function renderUserForm() {\n      return React.createElement(UserForm, {\n        userInfo: this.state.userInfo,\n        handleFormSubmit: this.handleFormSubmit.bind(this),\n        handleRegister: this.handleRegister.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      });\n    } // render the user profile component\n    // renderUserProfile(){\n    //   return <UserProfile user={this.state.userInfo} \n    //                       handleRegister={this.handleRegister.bind(this)} \n    //                       renderSavedJob={this.renderSavedJob.bind(this)}\n    //                       setUserProfile={this.setUserProfile.bind(this)}\n    //                       setSelectedJob={this.setSelectedJob.bind(this)}\n    //                       />\n    // }\n    // claer the state for log out\n    // handleLogout() {\n    //   this.setState({\n    //     username: '',\n    //     userInfo: undefined,\n    //     showProfile: false,\n    //     userForm: false\n    //   })\n    // }\n    //This function will render the log-in form it the login is true\n    // renderLoginForm() {\n    //   return (\n    //     <div className=\"user-form\">\n    //       <form className=\"show-form\" onSubmit={this.handleSubmit.bind(this)}>\n    //         <div className=\"close-modal\" onClick={ () => this.setLoginForm() }>x</div>\n    //         <label>Username: </label>\n    //         <input type=\"text\" placeholder=\"Enter username\" onChange={this.handleChange.bind(this)} />\n    //         <button>Login</button>\n    //       </form>\n    //     </div>\n    //   )\n    // }\n    //handel activity submit  \n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this6 = this;\n\n      event.preventDefault();\n      fetch(\"\".concat(API_URL, \"activity/\").concat(this.state.id)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this6.setState({\n          activityInfo: data,\n          activityForm: false\n        });\n      }).catch(function (error) {\n        console.log('App.js handleSubmit function: ', error);\n      });\n      console.log(this.state.activityInfo);\n    }\n  }, {\n    key: \"handleFormActivity\",\n    value: function handleFormActivity(activity) {\n      this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity);\n    } // update activity information in the database \n\n  }, {\n    key: \"updateActivityInfo\",\n    value: function updateActivityInfo(activity) {\n      var _this7 = this;\n\n      console.log(\"##\", activity);\n      var url = \"\".concat(API_URL, \"activity/\").concat(activity.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(activity)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this7.setState({\n          activityInfo: data,\n          activityForm: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"createNewActivity\",\n    value: function createNewActivity(activity) {\n      var _this8 = this;\n\n      var url = \"\".concat(API_URL, \"activity\");\n      console.log(\"activiiiiiity info\", activity);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"accccccccctivity data\", data);\n\n        _this8.setState({\n          activityInfo: data,\n          activityForm: false\n        });\n      }).catch(function (error) {\n        console.log('createNewactivity Error: ', error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        onNavClick: this.onNavClick,\n        active: this.state.activeNav,\n        navs: [\"Home\", \"About\", \"Activity\", \"Trip\", \"Contact\", \"Login\"],\n        navsRef: [\"Home\", \"About\", \"Activity\", \"Trip\", \"Contact\", \"Login\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }), React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }), React.createElement(UserForm, {\n        userInfo: this.state.userInfo,\n        handleFormSubmit: this.handleFormSubmit.bind(this),\n        handleRegister: this.handleRegister.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }), React.createElement(Activity, {\n        handleFormActivity: this.handleFormActivity.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js"],"names":["React","Component","Nav","About","UserForm","Activity","API_URL","App","onNavClick","activeNav","setState","state","userInfo","undefined","activityInfo","activityForm","username","userForm","event","target","value","preventDefault","fetch","then","response","json","data","loginForm","catch","error","console","log","alert","title","icon","user","updateUserInfo","createNewUser","url","id","method","headers","body","JSON","stringify","handleFormSubmit","bind","handleRegister","activity","updateActivityInfo","createNewActivity","handleFormActivity"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AAKA,IAAMC,OAAO,GAAG,wBAAhB;;IAEMC,G;;;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;;AADY,UAedC,UAfc,GAeD,UAAAC,SAAS,EAAI;AACxB,YAAKC,QAAL,CAAc;AAAED,QAAAA,SAAS,EAATA;AAAF,OAAd;AACD,KAjBa;;AAEZ,UAAKE,KAAL,GAAa;AACXF,MAAAA,SAAS,EAAE,MADA;AAEXG,MAAAA,QAAQ,EAAEC,SAFC;AAGXC,MAAAA,YAAY,EAAED,SAHH;AAIXE,MAAAA,YAAY,EAAC,KAJF;AAKXC,MAAAA,QAAQ,EAAE,EALC;AAMX;AACAC,MAAAA,QAAQ,EAAE,KAPC,CAQX;;AARW,KAAb;AAFY;AAab;;;;AAKD;AACA;AACA;AACA;AACA;AACA;AACA;iCAEaC,K,EAAO;AAClB,WAAKR,QAAL,CAAc;AACZM,QAAAA,QAAQ,EAAEE,KAAK,CAACC,MAAN,CAAaC;AADX,OAAd;AAGD,K,CAED;;;;iCACaF,K,EAAO;AAAA;;AAClBA,MAAAA,KAAK,CAACG,cAAN;AAEAC,MAAAA,KAAK,WAAIhB,OAAJ,kBAAmB,KAAKK,KAAL,CAAWK,QAA9B,EAAL,CACGO,IADH,CACQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OADhB,EAEGF,IAFH,CAEQ,UAAAG,IAAI,EAAI;AACZ,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAAEc,IADE;AAEZC,UAAAA,SAAS,EAAE;AAFC,SAAd;AAID,OAPH,EAQGC,KARH,CAQS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CF,KAA9C;AACAG,QAAAA,KAAK,CAAC;AACJC,UAAAA,KAAK,EAAE,8BADH;AAEJC,UAAAA,IAAI,EAAE;AAFF,SAAD,CAAL;AAID,OAdH;AAeAJ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWC,QAAvB;AACD,K,CACD;;;;qCACiBuB,I,EAAM;AACrB,WAAKxB,KAAL,CAAWC,QAAX,GAAsB,KAAKwB,cAAL,CAAoBD,IAApB,CAAtB,GAAkD,KAAKE,aAAL,CAAmBF,IAAnB,CAAlD;AACD,K,CAED;;;;mCACeA,I,EAAM;AAAA;;AACnBL,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBI,IAAlB;AACA,UAAMG,GAAG,aAAMhC,OAAN,kBAAqB6B,IAAI,CAACI,EAA1B,CAAT;AAEAjB,MAAAA,KAAK,CAACgB,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AALG,OAAN,CAAL,CAOGZ,IAPH,CAOQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAPhB,EAQGF,IARH,CAQQ,UAAAG,IAAI,EAAI;AACZ,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAAEc,IADE;AAEZT,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID,OAbH,EAcGW,KAdH,CAcS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAhBH;AAiBC;;;kCACaM,I,EAAM;AAAA;;AAClB,UAAMG,GAAG,aAAMhC,OAAN,SAAT;AACJwB,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCI,IAAlC;AACIb,MAAAA,KAAK,CAACgB,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AALG,OAAN,CAAL,CAOGZ,IAPH,CAOQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAPhB,EAQGF,IARH,CAQQ,UAAAG,IAAI,EAAI;AACZI,QAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAkCL,IAAlC;;AAEA,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAAEc,IADE;AAEZT,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID,OAfH,EAgBGW,KAhBH,CAgBS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqCF,KAArC;AACAG,QAAAA,KAAK,CAAC,sCAAD,CAAL;AACD,OAnBH;AAoBD,K,CAGH;;;;mCACeG,I,EAAM;AAAA;;AACnBL,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBI,IAAlB;AACA,UAAMG,GAAG,aAAMhC,OAAN,kBAAqB6B,IAAI,CAACI,EAA1B,CAAT;AAEAjB,MAAAA,KAAK,CAACgB,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AALG,OAAN,CAAL,CAOGZ,IAPH,CAOQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAPhB,EAQGF,IARH,CAQQ,UAAAG,IAAI,EAAI;AACZ,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAAEc,IADE;AAEZT,UAAAA,QAAQ,EAAE;AAFE,SAAd;AAID,OAbH,EAcGW,KAdH,CAcS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAhBH;AAiBD;;;qCACgB;AACf,WAAKnB,QAAL,CAAc;AACZO,QAAAA,QAAQ,EAAE,CAAC,KAAKN,KAAL,CAAWM,QADV;AAEZU,QAAAA,SAAS,EAAE;AAFC,OAAd;AAID,K,CACD;;;;qCACiB;AACf,aAAO,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWC,QAA/B;AACU,QAAA,gBAAgB,EAAE,KAAKiC,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CAD5B;AAEU,QAAA,cAAc,EAAE,KAAKC,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAF1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAID,K,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;iCACa5B,K,EAAO;AAAA;;AAClBA,MAAAA,KAAK,CAACG,cAAN;AAEAC,MAAAA,KAAK,WAAIhB,OAAJ,sBAAuB,KAAKK,KAAL,CAAW4B,EAAlC,EAAL,CACGhB,IADH,CACQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OADhB,EAEGF,IAFH,CAEQ,UAAAG,IAAI,EAAI;AACZ,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZI,UAAAA,YAAY,EAAEY,IADF;AAEZX,UAAAA,YAAY,EAAE;AAFF,SAAd;AAID,OAPH,EAQGa,KARH,CAQS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA8CF,KAA9C;AAED,OAXH;AAYAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWG,YAAvB;AACD;;;uCAEkBkC,Q,EAAU;AAC3B,WAAKrC,KAAL,CAAWG,YAAX,GAA0B,KAAKmC,kBAAL,CAAwBD,QAAxB,CAA1B,GAA8D,KAAKE,iBAAL,CAAuBF,QAAvB,CAA9D;AACD,K,CACA;;;;uCACmBA,Q,EAAU;AAAA;;AAC5BlB,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBiB,QAAlB;AACA,UAAMV,GAAG,aAAMhC,OAAN,sBAAyB0C,QAAQ,CAACT,EAAlC,CAAT;AAEAjB,MAAAA,KAAK,CAACgB,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,KADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeI,QAAf;AALG,OAAN,CAAL,CAOGzB,IAPH,CAOQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAPhB,EAQGF,IARH,CAQQ,UAAAG,IAAI,EAAI;AACZ,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZI,UAAAA,YAAY,EAAEY,IADF;AAEZX,UAAAA,YAAY,EAAE;AAFF,SAAd;AAID,OAbH,EAcGa,KAdH,CAcS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACD,OAhBH;AAiBD;;;sCACiBmB,Q,EAAU;AAAA;;AAC1B,UAAMV,GAAG,aAAMhC,OAAN,aAAT;AACJwB,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCiB,QAAjC;AACI1B,MAAAA,KAAK,CAACgB,GAAD,EAAM;AACTE,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFA;AAKTC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,IAAf;AALG,OAAN,CAAL,CAOGZ,IAPH,CAOQ,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OAPhB,EAQGF,IARH,CAQQ,UAAAG,IAAI,EAAI;AACZI,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCL,IAApC;;AAEA,QAAA,MAAI,CAAChB,QAAL,CAAc;AACZI,UAAAA,YAAY,EAAEY,IADF;AAEZX,UAAAA,YAAY,EAAE;AAFF,SAAd;AAID,OAfH,EAgBGa,KAhBH,CAgBS,UAAAC,KAAK,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCF,KAAzC;AACD,OAlBH;AAmBD;;;6BAGQ;AACP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AACE,QAAA,UAAU,EAAE,KAAKrB,UADnB;AAEE,QAAA,MAAM,EAAE,KAAKG,KAAL,CAAWF,SAFrB;AAGE,QAAA,IAAI,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,UAAlB,EAA8B,MAA9B,EAAsC,SAAtC,EAAkD,OAAlD,CAHR;AAIE,QAAA,OAAO,EAAE,CAAC,MAAD,EAAS,OAAT,EAAkB,UAAlB,EAA8B,MAA9B,EAAsC,SAAtC,EAAkD,OAAlD,CAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAOA,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPA,EAQA,oBAAC,QAAD;AAAU,QAAA,QAAQ,EAAE,KAAKE,KAAL,CAAWC,QAA/B;AACe,QAAA,gBAAgB,EAAE,KAAKiC,gBAAL,CAAsBC,IAAtB,CAA2B,IAA3B,CADjC;AAEe,QAAA,cAAc,EAAE,KAAKC,cAAL,CAAoBD,IAApB,CAAyB,IAAzB,CAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARA,EAYe,oBAAC,QAAD;AAAU,QAAA,kBAAkB,EAAE,KAAKK,kBAAL,CAAwBL,IAAxB,CAA6B,IAA7B,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZf,CADF;AAkBD;;;;EA5Qe7C,S;;AA+QlB,eAAeM,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\"\nimport Activity from \"./components/Activity\";\n\n\n\n\nconst API_URL = 'http://localhost:3000/';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      activeNav: \"home\" ,\n      userInfo: undefined,\n      activityInfo: undefined,\n      activityForm:false,\n      username: '',\n      // loginForm: false,\n      userForm: false,\n      // showProfile: false\n \n    };\n  }\n\n  onNavClick = activeNav => {\n    this.setState({ activeNav });\n  };\n  // show the login form to show\n  // setLoginForm() {\n  //   this.setState({\n  //     loginForm: !this.state.loginForm,\n  //     userForm: false\n  //   });\n  // }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.value\n    })\n  }\n\n  // handle the user name to check if he is registered or no \n  handleSubmit(event) {\n    event.preventDefault();\n\n    fetch(`${API_URL}user/${this.state.username}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          userInfo: data,\n          loginForm: false\n        })\n      })\n      .catch(error => {\n        console.log('App.js handleSubmit function: ', error);\n        alert({\n          title: \"This username NOT Registered\",\n          icon: \"warning\"\n        });\n      })\n    console.log(this.state.userInfo);\n  }\n  //handel thre form sumbmission if the user to create a new user or updtae user info\n  handleFormSubmit(user) {\n    this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user)\n  }\n\n  // update user information in the database \n  updateUserInfo(user) {\n    console.log(\"##\", user);\n    const url = `${API_URL}user/${user.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ \n          userInfo: data,\n          userForm: false \n        })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n    }\n    createNewUser(user) {\n      const url = `${API_URL}user`\n  console.log(\"uuuuuuuuuuuser info\",user)\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      })\n        .then(response => response.json())\n        .then(data => {\n          console.log(\"uuuuuuuuuuuser data\",data)\n\n          this.setState({ \n            userInfo: data,\n            userForm: false\n           })\n        })\n        .catch(error => {\n          console.log('createNewUser Error: ', error)\n          alert(\"Tnis username or email is Registerd.\");\n        })\n    }\n\n\n  // update user information in the database \n  updateUserInfo(user) {\n    console.log(\"##\", user);\n    const url = `${API_URL}user/${user.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ \n          userInfo: data,\n          userForm: false \n        })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n  handleRegister() {\n    this.setState({\n      userForm: !this.state.userForm,\n      loginForm: false\n    });\n  }\n  // render user form for the registeration\n  renderUserForm() {\n    return <UserForm userInfo={this.state.userInfo} \n                     handleFormSubmit={this.handleFormSubmit.bind(this)} \n                     handleRegister={this.handleRegister.bind(this)} \n                     />\n  }\n\n  // render the user profile component\n  // renderUserProfile(){\n  //   return <UserProfile user={this.state.userInfo} \n  //                       handleRegister={this.handleRegister.bind(this)} \n  //                       renderSavedJob={this.renderSavedJob.bind(this)}\n  //                       setUserProfile={this.setUserProfile.bind(this)}\n  //                       setSelectedJob={this.setSelectedJob.bind(this)}\n  //                       />\n  // }\n\n  // claer the state for log out\n  // handleLogout() {\n  //   this.setState({\n  //     username: '',\n  //     userInfo: undefined,\n  //     showProfile: false,\n  //     userForm: false\n  //   })\n  // }\n  \n  //This function will render the log-in form it the login is true\n  // renderLoginForm() {\n  //   return (\n  //     <div className=\"user-form\">\n  //       <form className=\"show-form\" onSubmit={this.handleSubmit.bind(this)}>\n  //         <div className=\"close-modal\" onClick={ () => this.setLoginForm() }>x</div>\n  //         <label>Username: </label>\n  //         <input type=\"text\" placeholder=\"Enter username\" onChange={this.handleChange.bind(this)} />\n  //         <button>Login</button>\n  //       </form>\n  //     </div>\n  //   )\n  // }\n\n  //handel activity submit  \n  handleSubmit(event) {\n    event.preventDefault();\n\n    fetch(`${API_URL}activity/${this.state.id}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          activityInfo: data,\n          activityForm: false\n        })\n      })\n      .catch(error => {\n        console.log('App.js handleSubmit function: ', error);\n        \n      })\n    console.log(this.state.activityInfo);\n  }\n\n  handleFormActivity(activity) {\n    this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity)\n  }\n   // update activity information in the database \n   updateActivityInfo(activity) {\n    console.log(\"##\", activity);\n    const url = `${API_URL}activity/${activity.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(activity)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({ \n          activityInfo: data,\n          activityForm: false \n        })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n  createNewActivity(activity) {\n    const url = `${API_URL}activity`\nconsole.log(\"activiiiiiity info\",activity)\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"accccccccctivity data\",data)\n\n        this.setState({ \n          activityInfo: data,\n          activityForm: false\n         })\n      })\n      .catch(error => {\n        console.log('createNewactivity Error: ', error)\n      })\n  }\n  \n  \n  render() {\n    return (\n      <div>\n        <Nav\n          onNavClick={this.onNavClick}\n          active={this.state.activeNav}\n          navs={[\"Home\", \"About\", \"Activity\", \"Trip\", \"Contact\" , \"Login\"]}\n          navsRef={[\"Home\", \"About\", \"Activity\", \"Trip\", \"Contact\" , \"Login\"]}\n        />\n      <About/>\n      <UserForm userInfo={this.state.userInfo} \n                     handleFormSubmit={this.handleFormSubmit.bind(this)} \n                     handleRegister={this.handleRegister.bind(this)} \n                     />\n                     <Activity handleFormActivity={this.handleFormActivity.bind(this) }\n                     />\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}