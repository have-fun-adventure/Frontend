{"ast":null,"code":"import _classCallCheck from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\";\nimport Activity from \"./components/Activity\";\nimport Profile from \"./components/Profile\";\nimport List from \"./components/List\";\nimport { getUser, setJwt } from \"./services/auth\";\nimport swal from 'sweetalert';\nimport AuthForm from \"./components/AuthForm\";\nvar API_URL = 'http://localhost:3000/';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onNavClick = function (activeNav) {\n      console.log(\"activeNav toggle\", activeNav);\n\n      _this.changeActivePage(activeNav);\n\n      _this.setState({\n        activeNav: activeNav\n      });\n    };\n\n    _this.changeCurrentActivity = function (act) {\n      console.log(\"act\", act);\n\n      _this.setState({\n        clickedActivity: act.id\n      });\n    };\n\n    _this.login = function () {\n      console.log(\"getting the user\");\n      var userInfo = getUser();\n\n      _this.setState({\n        userInfo: userInfo\n      });\n\n      _this.setState({\n        activePage: \"home\"\n      });\n    };\n\n    _this.changeActivePage = function (activePage) {\n      _this.setState({\n        activePage: activePage\n      });\n    };\n\n    _this.handleFormlist = function (list) {\n      _this.state.listInfo ? _this.deleteList(list) : _this.createNewlist(list);\n      console.log(list);\n    };\n\n    _this.state = {\n      navs: [\"Home\", \"About\", \"Activity\", \"Signup\"],\n      activeNav: \"home\",\n      activePage: \"home\",\n      clickedActivity: [],\n      user: null,\n      userInfo: null,\n      activityInfo: '',\n      listInfo: undefined,\n      username: '',\n      activity: [],\n      usersActivity: [],\n      list: undefined,\n      activityForm: false,\n      listForm: false,\n      // loginForm: false,\n      // userForm: false,\n      // form: \"signup\",\n      showProfile: false\n    };\n    return _this;\n  }\n  /*************** NAV *********************/\n\n\n  _createClass(App, [{\n    key: \"createNewUser\",\n\n    /********************User*********************/\n    // create user information in the database \n    value: function createNewUser(user) {\n      var _this2 = this;\n\n      var url = \"\".concat(API_URL, \"user\");\n      console.log(\"create user info\", user);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create user info  data\", data);\n\n        _this2.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log('create New User Error: ', error);\n        swal(\"Oops\", \"Tnis username or email is Registerd\", \"error\");\n      });\n    } //check user auth\n\n  }, {\n    key: \"checkForUser\",\n    value: function checkForUser() {\n      var user = getUser();\n\n      if (user) {\n        this.setState({\n          user: user\n        });\n      }\n    } // show the login form \n\n  }, {\n    key: \"setLoginForm\",\n    value: function setLoginForm() {\n      this.setState({\n        loginForm: !this.state.loginForm,\n        userForm: false\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    } // handle the user name to check if he is registered or no \n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this3 = this;\n\n      event.preventDefault();\n      console.log(\"Button clicked\"); // fetch(`${API_URL}user/${this.state.username}`)\n\n      fetch(\"\".concat(API_URL, \"user/auth\")).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        setJwt(data.token);\n\n        _this3.setState({\n          userInfo: getUser(),\n          loginForm: false,\n          activityForm: true\n        }); // console.log(\"data\", data)\n\n      }).catch(function (error) {\n        console.log('error in submit user: ', error);\n        swal(\"Oops\", \"This username NOT Registered\", \"error\");\n      });\n      console.log(\"this.state.userInfo:\", this.state.userInfo);\n    } //handel thre form sumbmission if the user to create a new user or updtae user info\n\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(user) {\n      this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user);\n    } // update user information in the database \n\n  }, {\n    key: \"updateUserInfo\",\n    value: function updateUserInfo(user) {\n      var _this4 = this;\n\n      console.log(\"update user info \", user);\n      var url = \"\".concat(API_URL, \"user/\").concat(user.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this4.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // users  join  activity \n\n  }, {\n    key: \"createUserActivity\",\n    value: function createUserActivity(act) {\n      var _this5 = this;\n\n      var url = \"\".concat(API_URL, \"activity/activity\");\n      console.log(\"create user activity info\", act);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(act)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create user activity  data\", data);\n\n        _this5.setState({\n          usersActivity: data\n        });\n      }).catch(function (error) {\n        console.log('create New User activity Error: ', error);\n        swal(\"Oops\", \"You have to be login\", \"error\");\n      });\n    } //fetch all users in activity\n\n  }, {\n    key: \"fetchUsersActivity\",\n    value: function fetchUsersActivity(id) {\n      var _this6 = this;\n\n      console.log(\"usersActivity\", this.state.usersActivity);\n      console.log('activity.id at activity', id);\n      console.log(\"\".concat(API_URL, \"activity/activity/\").concat(id));\n      fetch(\"\".concat(API_URL, \"activity/activity/\").concat(id)).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(\"get all users data in this activity\", data);\n\n        _this6.setState({\n          usersActivity: data\n        });\n\n        console.log(\"fetch all users by activity  \\n\\n \", _this6.state.usersActivity);\n      });\n    }\n  }, {\n    key: \"renderUsersActivity\",\n    value: function renderUsersActivity() {\n      console.log(\" render usersActivity\", this.state.usersActivity);\n      return this.state.usersActivity.map(function (elm) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card w-50\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"  \", elm.username, \" \"))));\n      });\n    } //handel new user \n\n  }, {\n    key: \"handleRegister\",\n    value: function handleRegister() {\n      this.setState({\n        userForm: !this.state.userForm,\n        loginForm: false\n      });\n    } // render user form for the registeration\n\n  }, {\n    key: \"renderUserForm\",\n    value: function renderUserForm() {\n      return React.createElement(UserForm, {\n        userInfo: this.state.userInfo,\n        handleFormSubmit: this.handleFormSubmit.bind(this),\n        handleRegister: this.handleRegister.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      });\n    } // render the user profile component\n\n  }, {\n    key: \"renderUserProfile\",\n    value: function renderUserProfile() {\n      return React.createElement(Profile, {\n        user: this.state.userInfo,\n        handleRegister: this.handleRegister.bind(this),\n        setUserProfile: this.setUserProfile.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      });\n    }\n    /********************Activity*********************/\n\n  }, {\n    key: \"renderActivityForm\",\n    value: function renderActivityForm() {\n      console.log(\"i am in render activity form\");\n      console.log(this.state.activityForm);\n\n      if (this.state.activityForm === true) {\n        return React.createElement(Activity, {\n          handleFormActivity: this.handleFormActivity.bind(this),\n          userInfo: this.state.userInfo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          },\n          __self: this\n        });\n      }\n    } //handel activity submit\n\n  }, {\n    key: \"handleActivitySubmit\",\n    value: function handleActivitySubmit(event) {\n      var _this7 = this;\n\n      event.preventDefault();\n      fetch(\"\".concat(API_URL, \"activity/\").concat(this.state.id)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this7.setState({\n          activityInfo: data,\n          activityForm: true,\n          listForm: true\n        });\n      }).catch(function (error) {\n        console.log('App.js handleSubmit function: ', error);\n      });\n      console.log(this.state.activityInfo);\n    } //handel update and create activity\n\n  }, {\n    key: \"handleFormActivity\",\n    value: function handleFormActivity(activity) {\n      this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity);\n    } // update activity information in the database \n\n  }, {\n    key: \"updateActivityInfo\",\n    value: function updateActivityInfo(activity) {\n      var _this8 = this;\n\n      console.log(\"update activity info\", activity);\n      var url = \"\".concat(API_URL, \"activity/\").concat(activity.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(activity)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this8.setState({\n          activityInfo: data,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log(\"update activity info error :\", error);\n      });\n    }\n  }, {\n    key: \"createNewActivity\",\n    value: function createNewActivity(activity) {\n      var _this9 = this;\n\n      var url = \"\".concat(API_URL, \"activity\");\n      console.log(\"create new activity info\", activity);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(activity)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create new activity data\", data);\n\n        _this9.setState({\n          activityInfo: data,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log('create New activity Error: ', error);\n      });\n    } // fetch all activity\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this10 = this;\n\n      this.checkForUser();\n\n      if (this.state.user) {\n        this.setState({\n          navs: this.state.navs.concat([\"sigin out\"])\n        });\n      } else {\n        this.setState({\n          navs: this.state.navs.concat([\"login\"])\n        });\n      }\n\n      console.log(this.state.navs);\n      fetch(\"\".concat(API_URL, \"activity\")).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(\"get all activity data\", data);\n\n        _this10.setState({\n          activity: data\n        });\n      });\n    } //change activity by clicked \n\n  }, {\n    key: \"renderActivity\",\n    // render all activity\n    value: function renderActivity(active) {\n      var _this11 = this;\n\n      return active.map(function (act) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376\n          },\n          __self: this\n        }, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"card text-center activity\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"card-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380\n          },\n          __self: this\n        }, act.title), React.createElement(\"div\", {\n          className: \"card-body\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384\n          },\n          __self: this\n        }, act.location), React.createElement(\"h6\", {\n          className: \"card-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 385\n          },\n          __self: this\n        }, act.date), React.createElement(\"p\", {\n          className: \"card-text\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 386\n          },\n          __self: this\n        }, act.description), React.createElement(\"a\", {\n          onClick: function onClick() {\n            _this11.changeActivePage(\"listForm\");\n\n            _this11.changeCurrentActivity(act);\n\n            _this11.fetchlist(act.id);\n\n            _this11.fetchUsersActivity(act.id);\n\n            _this11.createUserActivity(act.id);\n          },\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 387\n          },\n          __self: this\n        }, \"Let's #have_fun  \", React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 394\n          },\n          __self: this\n        }, \" \\uD83C\\uDF1F \")))));\n      });\n    }\n    /********************Login*********************/\n\n  }, {\n    key: \"handleLogout\",\n    // claer the state for log out\n    value: function handleLogout() {\n      this.setState({\n        username: '',\n        userInfo: undefined,\n        showProfile: false,\n        userForm: false\n      });\n    } //This function will render the log-in form it the login is true\n\n  }, {\n    key: \"renderLoginForm\",\n    value: function renderLoginForm() {\n      var _this12 = this;\n\n      return React.createElement(\"div\", {\n        className: \"login p-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"close-modal\",\n        onClick: function onClick() {\n          return _this12.setLoginForm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, \"x\"), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"sr-only\",\n        for: \"inlineFormInputGroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"div\", {\n        className: \"input-group mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441\n        },\n        __self: this\n      }, \"@\")), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"inlineFormInputGroupUsername\",\n        placeholder: \"Username\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"sr-only\",\n        for: \"inlineFormInputGroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, \"password\"), React.createElement(\"div\", {\n        className: \"input-group mb-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-prepend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"input-group-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, \"*\")), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"pass\",\n        placeholder: \"password\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"col-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, \"Submit\")))));\n    }\n    /********************List*********************/\n\n  }, {\n    key: \"renderListForm\",\n    value: function renderListForm() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, React.createElement(List, {\n        handleFormlist: this.handleFormlist,\n        userInfo: this.state.userInfo,\n        activityInfo: this.state.activityInfo,\n        clickedActivity: this.state.clickedActivity,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"createNewlist\",\n    //create new list\n    value: function createNewlist(list) {\n      var _this13 = this;\n\n      var url = \"\".concat(API_URL, \"list\");\n      console.log(\"create new list info\", list);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(list)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create new list data\", data);\n\n        _this13.setState({\n          listInfo: data,\n          listForm: true\n        });\n      }).catch(function (error) {\n        console.log('create New list Error: ', error);\n        swal(\"Oops\", \"You should be login\", \"error\");\n      });\n    } //delete list  \n\n  }, {\n    key: \"deleteList\",\n    value: function deleteList(list) {\n      var _this14 = this;\n\n      console.log(\"list in dele list \", list);\n      var url = \"\".concat(API_URL, \"list/\").concat(list.id);\n      fetch(url, {\n        method: 'DELETE'\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        var list = _this14.state.listInfo.filter(function (li) {\n          return li.id !== list;\n        });\n\n        _this14.setState({\n          list: list,\n          listForm: null\n        });\n      }).catch(function (error) {\n        console.log(\"error from DEL list\", error);\n      });\n    } //handel delete and create list\n\n  }, {\n    key: \"fetchlist\",\n    // fetch all list by activity \n    value: function fetchlist(id) {\n      var _this15 = this;\n\n      console.log('idddddd', id);\n      console.log(\"\".concat(API_URL, \"list/activity/\").concat(id));\n      fetch(\"\".concat(API_URL, \"list/activity/\").concat(id)).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(\"get all list data in this activity\", data);\n\n        _this15.setState({\n          list: data\n        });\n\n        console.log(\"fetch all list by activity  \\n\\n \", _this15.state.list);\n      });\n    } // render all list in spiesifiech activity\n\n  }, {\n    key: \"renderListInActivity\",\n    value: function renderListInActivity() {\n      var _this16 = this;\n\n      console.log(\"i'm in the render list activity\");\n      return this.state.list.map(function (li) {\n        // cuz the result come as array of array \n        return li.map(function (elm) {\n          return React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 571\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 572\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-header\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 573\n            },\n            __self: this\n          }, elm.name), React.createElement(\"div\", {\n            className: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 576\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 577\n            },\n            __self: this\n          }, elm.note), React.createElement(\"a\", {\n            onClick: function onClick() {\n              return _this16.deleteList();\n            },\n            className: \"btn btn-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 578\n            },\n            __self: this\n          }, \"DELETE\", React.createElement(\"span\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 578\n            },\n            __self: this\n          }, \" \\u274C \")))));\n        });\n      });\n    }\n    /******************** App Render *********************/\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        onNavClick: this.onNavClick,\n        active: this.state.activeNav,\n        navs: this.state.navs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 595\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          padding: \" 200px 0 0 0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602\n        },\n        __self: this\n      }, this.state.activePage === \"about\" ? React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604\n        },\n        __self: this\n      }) : \"\", this.state.activePage === \"home\" ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }, \" \", React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607\n        },\n        __self: this\n      }), \"  \", this.renderActivity(this.state.activity), \" \", this.renderActivityForm(), \" \") : \"\", this.state.activePage === \"login\" ? React.createElement(AuthForm, {\n        userInfo: this.state.userInfo,\n        form: \"login\",\n        onLogin: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610\n        },\n        __self: this\n      }) : \"\", this.state.activePage === \"signup\" ? React.createElement(AuthForm, {\n        userInfo: this.state.userInfo,\n        form: \"signup\",\n        onLogin: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613\n        },\n        __self: this\n      }) : \"\", this.state.activePage === \"activity\" ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621\n        },\n        __self: this\n      }, \"  \", this.renderActivity(this.state.activity), \" \", this.renderActivityForm(), React.createElement(\"span\", {\n        className: \"glyphicon glyphicon-plus-sign\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      })) : \"\", this.state.activePage === \"listForm\" ? this.renderListForm() : \"\", this.state.activePage === \"listForm\" && this.state.list ? this.renderListInActivity() : \"\", this.state.activePage === \"listForm\" ? this.renderUsersActivity() : \"\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js"],"names":["React","Component","Nav","About","UserForm","Activity","Profile","List","getUser","setJwt","swal","AuthForm","API_URL","App","onNavClick","activeNav","console","log","changeActivePage","setState","changeCurrentActivity","act","clickedActivity","id","login","userInfo","activePage","handleFormlist","list","state","listInfo","deleteList","createNewlist","navs","user","activityInfo","undefined","username","activity","usersActivity","activityForm","listForm","showProfile","url","fetch","method","headers","body","JSON","stringify","then","response","json","data","userForm","catch","error","loginForm","event","target","value","preventDefault","token","updateUserInfo","createNewUser","res","map","elm","handleFormSubmit","bind","handleRegister","setUserProfile","handleFormActivity","updateActivityInfo","createNewActivity","checkForUser","concat","active","title","location","date","description","fetchlist","fetchUsersActivity","createUserActivity","handleSubmit","setLoginForm","handleChange","filter","li","name","note","padding","renderActivity","renderActivityForm","renderListForm","renderListInActivity","renderUsersActivity"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\"\nimport Activity from \"./components/Activity\";\nimport Profile from \"./components/Profile\"\nimport List from \"./components/List\"\nimport { getUser, setJwt } from \"./services/auth\"\nimport swal from 'sweetalert';\nimport AuthForm from \"./components/AuthForm\";\n\n\n\nconst API_URL = 'http://localhost:3000/';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n\n      navs: [\"Home\", \"About\", \"Activity\", \"Signup\"],\n      activeNav: \"home\",\n      activePage: \"home\",\n      clickedActivity: [],\n      user: null,\n      userInfo: null,\n      activityInfo: '',\n      listInfo: undefined,\n      username: '',\n      activity: [],\n      usersActivity: [],\n      list: undefined,\n      activityForm: false,\n      listForm: false,\n      // loginForm: false,\n      // userForm: false,\n      // form: \"signup\",\n      showProfile: false,\n    };\n  }\n\n\n\n\n\n  /*************** NAV *********************/\n  onNavClick = activeNav => {\n    console.log(\"activeNav toggle\", activeNav)\n\n    this.changeActivePage(activeNav)\n    this.setState({ activeNav });\n  };\n\n\n  /********************User*********************/\n\n  // create user information in the database \n  createNewUser(user) {\n    const url = `${API_URL}user`\n    console.log(\"create user info\", user)\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create user info  data\", data)\n\n        this.setState({\n          userInfo: data,\n          userForm: false\n        })\n      })\n      .catch(error => {\n        console.log('create New User Error: ', error)\n        swal(\"Oops\", \"Tnis username or email is Registerd\", \"error\")\n      })\n  }\n\n  //check user auth\n  checkForUser() {\n    const user = getUser();\n    if (user) {\n      this.setState({ user });\n    }\n  }\n\n\n  // show the login form \n  setLoginForm() {\n    this.setState({\n      loginForm: !this.state.loginForm,\n      userForm: false,\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.value\n    })\n  }\n\n  // handle the user name to check if he is registered or no \n  handleSubmit(event) {\n    event.preventDefault();\n\n    console.log(\"Button clicked\")\n    // fetch(`${API_URL}user/${this.state.username}`)\n    fetch(`${API_URL}user/auth`)\n      .then(response => response.json())\n      .then(data => {\n\n        setJwt(data.token)\n        this.setState({\n          userInfo: getUser(),\n          loginForm: false,\n          activityForm: true\n        })\n        // console.log(\"data\", data)\n\n      })\n      .catch(error => {\n        console.log('error in submit user: ', error);\n        swal(\"Oops\", \"This username NOT Registered\", \"error\")\n      })\n    console.log(\"this.state.userInfo:\", this.state.userInfo);\n  }\n  //handel thre form sumbmission if the user to create a new user or updtae user info\n  handleFormSubmit(user) {\n    this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user)\n  }\n\n  // update user information in the database \n  updateUserInfo(user) {\n    console.log(\"update user info \", user);\n    const url = `${API_URL}user/${user.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          userInfo: data,\n          userForm: false\n        })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n  // users  join  activity \n  createUserActivity(act) {\n    \n    const url = `${API_URL}activity/activity`\n    console.log(\"create user activity info\", act)\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(act)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create user activity  data\", data)\n\n        this.setState({\n          usersActivity: data\n        })\n      })\n      .catch(error => {\n        console.log('create New User activity Error: ', error)\n        swal(\"Oops\", \"You have to be login\", \"error\")\n      })\n  }\n\n\n  //fetch all users in activity\n  fetchUsersActivity(id) {\n    console.log(\"usersActivity\", this.state.usersActivity)\n    console.log('activity.id at activity', id);\n\n    console.log(`${API_URL}activity/activity/${id}`);\n    fetch(`${API_URL}activity/activity/${id}`)\n      .then((res) => { return res.json() })\n      .then((data) => {\n        console.log(\"get all users data in this activity\", data)\n        this.setState({ usersActivity: data });\n        console.log(\"fetch all users by activity  \\n\\n \", this.state.usersActivity)\n\n      })\n\n  }\n  renderUsersActivity() {\n    console.log(\" render usersActivity\", this.state.usersActivity)\n    return this.state.usersActivity.map((elm) => {\n      return (\n        <div>\n\n          <div className=\"card w-50\">\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">  {elm.username} </h5>\n\n            </div>\n          </div>\n\n\n\n        </div>)\n    })\n  }\n\n\n  //handel new user \n  handleRegister() {\n    this.setState({\n      userForm: !this.state.userForm,\n      loginForm: false\n    });\n  }\n\n\n  // render user form for the registeration\n  renderUserForm() {\n    return <UserForm userInfo={this.state.userInfo}\n      handleFormSubmit={this.handleFormSubmit.bind(this)}\n      handleRegister={this.handleRegister.bind(this)}\n    />\n  }\n\n  // render the user profile component\n  renderUserProfile() {\n    return <Profile user={this.state.userInfo}\n      handleRegister={this.handleRegister.bind(this)}\n      setUserProfile={this.setUserProfile.bind(this)}\n    />\n  }\n\n\n\n  /********************Activity*********************/\n\n\n\n  renderActivityForm() {\n    console.log(\"i am in render activity form\");\n    console.log(this.state.activityForm);\n    if (this.state.activityForm === true) {\n      return (\n        <Activity handleFormActivity={this.handleFormActivity.bind(this)}\n          userInfo={this.state.userInfo} />\n      )\n    }\n  }\n  //handel activity submit\n  handleActivitySubmit(event) {\n    event.preventDefault();\n\n    fetch(`${API_URL}activity/${this.state.id}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          activityInfo: data,\n          activityForm: true,\n          listForm: true,\n\n        })\n      })\n      .catch(error => {\n        console.log('App.js handleSubmit function: ', error);\n\n      })\n    console.log(this.state.activityInfo);\n  }\n\n\n  //handel update and create activity\n  handleFormActivity(activity) {\n    this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity)\n  }\n\n\n  // update activity information in the database \n  updateActivityInfo(activity) {\n    console.log(\"update activity info\", activity);\n    const url = `${API_URL}activity/${activity.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(activity)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          activityInfo: data,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log(\"update activity info error :\", error);\n      })\n  }\n\n\n  createNewActivity(activity) {\n    const url = `${API_URL}activity`\n    console.log(\"create new activity info\", activity)\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(activity)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create new activity data\", data)\n\n        this.setState({\n          activityInfo: data,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log('create New activity Error: ', error)\n      })\n  }\n\n\n  // fetch all activity\n  componentDidMount() {\n\n    this.checkForUser();\n\n    if (this.state.user) {\n      this.setState({ navs: this.state.navs.concat([\"sigin out\"]) })\n    } else {\n      this.setState({ navs: this.state.navs.concat([\"login\"]) })\n    }\n    console.log(this.state.navs)\n\n    fetch(`${API_URL}activity`)\n      .then((res) => { return res.json() })\n      .then((data) => {\n        console.log(\"get all activity data\", data)\n        this.setState({ activity: data });\n      })\n  }\n\n\n  //change activity by clicked \n  changeCurrentActivity = (act) => {\n    console.log(\"act\", act)\n    this.setState({\n      clickedActivity: act.id\n    })\n  }\n  // render all activity\n  renderActivity(active) {\n    return active.map((act) => {\n      return (\n        <div>\n          <br />\n\n          <div className=\"card text-center activity\">\n            <div className=\"card-header\">\n              {act.title}\n            </div>\n            <div className=\"card-body\">\n              <h5 className=\"card-title\">{act.location}</h5>\n              <h6 className=\"card-title\">{act.date}</h6>\n              <p className=\"card-text\">{act.description}</p>\n              <a onClick={() => {\n                this.changeActivePage(\"listForm\");\n                this.changeCurrentActivity(act);\n                this.fetchlist(act.id);\n                this.fetchUsersActivity(act.id);\n                this.createUserActivity(act.id);\n              }}\n                className=\"btn btn-primary\">Let's #have_fun  <span>  </span></a>\n            </div>\n          </div>\n        </div>\n      )\n    })\n  }\n\n\n\n\n  /********************Login*********************/\n\n\n  login = () => {\n\n\n    console.log(\"getting the user\")\n    const userInfo = getUser();\n    this.setState({ userInfo });\n\n    this.setState({ activePage: \"home\" })\n  };\n\n\n  // claer the state for log out\n  handleLogout() {\n    this.setState({\n      username: '',\n      userInfo: undefined,\n      showProfile: false,\n      userForm: false\n    })\n  }\n\n  //This function will render the log-in form it the login is true\n  renderLoginForm() {\n    return (\n      <div className=\"login p-5\">\n        <form onSubmit={this.handleSubmit.bind(this)}>\n          <div className=\"close-modal\" onClick={() => this.setLoginForm()}>x</div>\n\n          <div className=\"row\">\n            <div className=\"col-sm\">\n              <label className=\"sr-only\" for=\"inlineFormInputGroup\">Username</label>\n              <div className=\"input-group mb-2\">\n                <div className=\"input-group-prepend\">\n                  <div className=\"input-group-text\">@</div>\n                </div>\n                <input type=\"text\" className=\"form-control\" id=\"inlineFormInputGroupUsername\" placeholder=\"Username\" onChange={this.handleChange.bind(this)} />\n              </div>\n            </div>\n\n\n            <div className=\"col-sm\">\n              <label className=\"sr-only\" for=\"inlineFormInputGroup\">password</label>\n              <div className=\"input-group mb-2\">\n                <div className=\"input-group-prepend\">\n                  <div className=\"input-group-text\">*</div>\n                </div>\n                <input type=\"text\" className=\"form-control\" id=\"pass\" placeholder=\"password\" onChange={this.handleChange.bind(this)} />\n              </div>\n            </div>\n\n            <div className=\"col-sm\">\n              <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n            </div>\n          </div>\n        </form>\n      </div>\n\n    )\n  }\n\n\n  /********************List*********************/\n\n  renderListForm() {\n    return (\n      <div>\n        <List\n          handleFormlist={this.handleFormlist}\n          userInfo={this.state.userInfo}\n          activityInfo={this.state.activityInfo}\n          clickedActivity={this.state.clickedActivity}\n\n        />\n\n      </div>\n    )\n  }\n  changeActivePage = (activePage) => {\n    this.setState({ activePage })\n  }\n\n  //create new list\n  createNewlist(list) {\n    const url = `${API_URL}list`\n    console.log(\"create new list info\", list)\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(list)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create new list data\", data)\n\n        this.setState({\n          listInfo: data,\n          listForm: true\n        })\n      })\n      .catch(error => {\n        console.log('create New list Error: ', error)\n        swal(\"Oops\", \"You should be login\", \"error\")\n\n      })\n  }\n\n  //delete list  \n  deleteList(list) {\n    console.log(\"list in dele list \", list)\n    const url = `${API_URL}list/${list.id}`\n\n    fetch(url, {\n      method: 'DELETE'\n    })\n      .then(response => response.json())\n      .then(data => {\n        const list = this.state.listInfo.filter(li => li.id !== list)\n        this.setState({\n          list: list,\n          listForm: null\n        })\n      })\n      .catch(error => {\n        console.log(\"error from DEL list\", error);\n      })\n  }\n\n\n  //handel delete and create list\n  handleFormlist = (list) => {\n\n    (this.state.listInfo) ? this.deleteList(list) : this.createNewlist(list)\n    console.log(list);\n  }\n\n  // fetch all list by activity \n  fetchlist(id) {\n    console.log('idddddd', id);\n    console.log(`${API_URL}list/activity/${id}`);\n    fetch(`${API_URL}list/activity/${id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(\"get all list data in this activity\", data)\n        this.setState({ list: data });\n\n\n        console.log(\"fetch all list by activity  \\n\\n \", this.state.list)\n\n      })\n\n  }\n\n  // render all list in spiesifiech activity\n  renderListInActivity() {\n\n    console.log(\"i'm in the render list activity\");\n    return this.state.list.map((li) => {\n      // cuz the result come as array of array \n      return li.map((elm) => {\n        return (\n          <div>\n            <div className=\"card text-center\">\n              <div className=\"card-header\">\n                {elm.name}\n              </div>\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">{elm.note}</h5>\n                <a onClick={() => this.deleteList()} className=\"btn btn-primary\">DELETE<span>  </span></a>\n              </div>\n            </div>\n          </div>\n        )\n      })\n    })\n\n  }\n\n\n  /******************** App Render *********************/\n\n  render() {\n    return (\n      <div>\n\n        <Nav\n          onNavClick={this.onNavClick}\n          active={this.state.activeNav}\n          navs={this.state.navs}\n\n        />\n\n        <div style={{ padding: \" 200px 0 0 0\" }}>\n\n          {this.state.activePage === \"about\" ? <About /> : \"\"}\n\n          {this.state.activePage === \"home\" ? (\n            <div> <About />  {this.renderActivity(this.state.activity)} {this.renderActivityForm()} </div>) : \"\"}\n\n          {this.state.activePage === \"login\" ? (\n            <AuthForm userInfo={this.state.userInfo} form=\"login\" onLogin={this.login} />\n          ) : \"\"}\n\n          {this.state.activePage === \"signup\" ? (<AuthForm userInfo={this.state.userInfo} form=\"signup\" onLogin={this.login} />) : \"\"}\n\n          {/* <UserForm userInfo={this.state.userInfo}\n                handleFormSubmit={this.handleFormSubmit.bind(this)}\n                handleRegister={this.handleRegister.bind(this)} /> </div>) : \"\"} */}\n\n\n          {this.state.activePage === \"activity\" ? (\n            <div>  {this.renderActivity(this.state.activity)} {this.renderActivityForm()}\n\n              <span className=\"glyphicon glyphicon-plus-sign\"></span><br />\n\n            </div>) : \"\"}\n\n\n          {this.state.activePage === \"listForm\" ? this.renderListForm() : \"\"}\n          {this.state.activePage === \"listForm\" && this.state.list ? (this.renderListInActivity()) : \"\"}\n          {this.state.activePage === \"listForm\" ? this.renderUsersActivity() : \"\"}\n\n\n\n        </div>\n\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}