{"ast":null,"code":"import _classCallCheck from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\";\nimport Activity from \"./components/Activity\";\nimport Profile from \"./components/Profile\";\nimport AllActivity from \"./components/AllActivity\";\nvar API_URL = 'http://localhost:3000/';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.onNavClick = function (activeNav) {\n      _this.setState({\n        activeNav: activeNav\n      });\n    };\n\n    _this.state = {\n      activeNav: \"home\",\n      userInfo: '',\n      username: '',\n      activity: [],\n      activityInfo: '',\n      activityForm: false,\n      loginForm: false,\n      userForm: false,\n      showProfile: false\n    };\n    return _this;\n  } // control Nav\n\n\n  _createClass(App, [{\n    key: \"setLoginForm\",\n    // show the login form \n    value: function setLoginForm() {\n      this.setState({\n        loginForm: !this.state.loginForm,\n        userForm: false\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        username: event.target.value\n      });\n    } // handle the user name to check if he is registered or no \n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      fetch(\"\".concat(API_URL, \"user/\").concat(this.state.username)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.setState({\n          userInfo: data,\n          loginForm: false,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log('error in submit user: ', error);\n        alert(\"This username NOT Registered\");\n      });\n      console.log(\"this.state.userInfo:\", this.state.userInfo);\n    } //handel thre form sumbmission if the user to create a new user or updtae user info\n\n  }, {\n    key: \"handleFormSubmit\",\n    value: function handleFormSubmit(user) {\n      this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user);\n    } // update user information in the database \n\n  }, {\n    key: \"updateUserInfo\",\n    value: function updateUserInfo(user) {\n      var _this3 = this;\n\n      console.log(\"update user info \", user);\n      var url = \"\".concat(API_URL, \"user/\").concat(user.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this3.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    } // create user information in the database \n\n  }, {\n    key: \"createNewUser\",\n    value: function createNewUser(user) {\n      var _this4 = this;\n\n      var url = \"\".concat(API_URL, \"user\");\n      console.log(\"create user info\", user);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create user info  data\", data);\n\n        _this4.setState({\n          userInfo: data,\n          userForm: false\n        });\n      }).catch(function (error) {\n        console.log('create New User Error: ', error);\n        alert(\"Tnis username or email is Registerd.\");\n      });\n    } //handel new user \n\n  }, {\n    key: \"handleRegister\",\n    value: function handleRegister() {\n      this.setState({\n        userForm: !this.state.userForm,\n        loginForm: false\n      });\n    } // render user form for the registeration\n\n  }, {\n    key: \"renderUserForm\",\n    value: function renderUserForm() {\n      return React.createElement(UserForm, {\n        userInfo: this.state.userInfo,\n        handleFormSubmit: this.handleFormSubmit.bind(this),\n        handleRegister: this.handleRegister.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      });\n    } // render the user profile component\n\n  }, {\n    key: \"renderUserProfile\",\n    value: function renderUserProfile() {\n      return React.createElement(Profile, {\n        user: this.state.userInfo,\n        handleRegister: this.handleRegister.bind(this),\n        setUserProfile: this.setUserProfile.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      });\n    } // claer the state for log out\n\n  }, {\n    key: \"handleLogout\",\n    value: function handleLogout() {\n      this.setState({\n        username: '',\n        userInfo: undefined,\n        showProfile: false,\n        userForm: false\n      });\n    } //This function will render the log-in form it the login is true\n\n  }, {\n    key: \"renderLoginForm\",\n    value: function renderLoginForm() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        className: \"user-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"show-form\",\n        onSubmit: this.handleSubmit.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"close-modal\",\n        onClick: function onClick() {\n          return _this5.setLoginForm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, \"x\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter username\",\n        onChange: this.handleChange.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"Login\")));\n    }\n  }, {\n    key: \"renderActivityForm\",\n    value: function renderActivityForm() {\n      console.log(\"i am in render activity form\");\n      console.log(this.state.activityForm);\n\n      if (this.state.activityForm === true) {\n        return React.createElement(Activity, {\n          handleFormActivity: this.handleFormActivity.bind(this),\n          userInfo: this.state.userInfo,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        });\n      }\n    } //handel activity submit  \n\n  }, {\n    key: \"handleActivitySubmit\",\n    value: function handleActivitySubmit(event) {\n      var _this6 = this;\n\n      event.preventDefault();\n      fetch(\"\".concat(API_URL, \"activity/\").concat(this.state.id)).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this6.setState({\n          activityInfo: data,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log('App.js handleSubmit function: ', error);\n      });\n      console.log(this.state.activityInfo);\n    } //handel update and create activity \n\n  }, {\n    key: \"handleFormActivity\",\n    value: function handleFormActivity(activity) {\n      this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity);\n    } // update activity information in the database \n\n  }, {\n    key: \"updateActivityInfo\",\n    value: function updateActivityInfo(activity) {\n      var _this7 = this;\n\n      console.log(\"update activity info\", activity);\n      var url = \"\".concat(API_URL, \"activity/\").concat(activity.id);\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(activity)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this7.setState({\n          activityInfo: data,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log(\"update activity info error :\", error);\n      });\n    }\n  }, {\n    key: \"createNewActivity\",\n    value: function createNewActivity(activity) {\n      var _this8 = this;\n\n      var url = \"\".concat(API_URL, \"activity\");\n      console.log(\"create new activity info\", activity);\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(activity)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"create new activity data\", data);\n\n        _this8.setState({\n          activityInfo: data,\n          activityForm: true\n        });\n      }).catch(function (error) {\n        console.log('create New activity Error: ', error);\n      });\n    } // getAllactivity(activity) {\n    //   console.log(\"get all activity info\", activity);\n    //   const url = `${API_URL}activity`\n    //   fetch(url, {\n    //     method: 'GET',\n    //     headers: {\n    //       \"Content-Type\": \"application/json\"\n    //     },\n    //     body: JSON.stringify(activity)\n    //   })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //       this.setState({\n    //         activity: data\n    //       })\n    //       console.log(\"get all activity data\", activity);\n    //     })\n    //     .catch(error => {\n    //       console.log(\"get all activity error\", error);\n    //     })\n    // }\n\n  }, {\n    key: \"getAllactivity\",\n    value: function getAllactivity() {\n      fetch(\"\".concat(API_URL, \"activity\")).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        var result = \"<h2> activity</h2>\";\n        data.forEach(function (activity) {\n          var titel = activity.titel,\n              location = activity.location,\n              date = activity.date,\n              description = activity.description;\n          result += React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 292\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card text-center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"card-header\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294\n            },\n            __self: this\n          }, titel), React.createElement(\"div\", {\n            className: \"card-body\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 297\n            },\n            __self: this\n          }, React.createElement(\"h5\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 298\n            },\n            __self: this\n          }, location), React.createElement(\"h6\", {\n            className: \"card-title\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 299\n            },\n            __self: this\n          }, date), React.createElement(\"p\", {\n            className: \"card-text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300\n            },\n            __self: this\n          }, description), React.createElement(\"a\", {\n            href: \"{activity.id}\",\n            className: \"btn btn-primary\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301\n            },\n            __self: this\n          }, \"Let's #have_fun \\uD83C\\uDF1F\"))));\n          document.getElementById('result').innerHTML = result;\n        });\n      });\n    } // handelAllActivity(activity) {\n    //   return (\n    //     <div>\n    //       <div className=\"card text-center\">\n    //         <div className=\"card-header\">\n    //           {activity.titel}\n    //         </div>\n    //         <div className=\"card-body\">\n    //           <h5 className=\"card-title\">{activity.location}</h5>\n    //           <h6 className=\"card-title\">{activity.date}</h6>\n    //           <p className=\"card-text\">{activity.description}</p>\n    //           <a href=\"{activity.id}\" className=\"btn btn-primary\">Let's #have_fun 🌟</a>\n    //         </div>\n    //       </div>\n    //     </div>\n    //   )\n    // }\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        onNavClick: this.onNavClick,\n        active: this.state.activeNav,\n        navs: [\"Home\", \"About\", \"Activity\", \"Login\"],\n        navsRef: [\"Home\", \"About\", \"Activity\", \"Login\"],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334\n        },\n        __self: this\n      }), React.createElement(About, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }), this.renderLoginForm(), this.renderActivityForm(), React.createElement(UserForm, {\n        userInfo: this.state.userInfo,\n        handleFormSubmit: this.handleFormSubmit.bind(this),\n        handleRegister: this.handleRegister.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346\n        },\n        __self: this\n      }), getAllactivity);\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/aishahalmaghrbi/code/wdi/projects/have-fun-adventure/Frontend/src/App.js"],"names":["React","Component","Nav","About","UserForm","Activity","Profile","AllActivity","API_URL","App","onNavClick","activeNav","setState","state","userInfo","username","activity","activityInfo","activityForm","loginForm","userForm","showProfile","event","target","value","preventDefault","fetch","then","response","json","data","catch","error","console","log","alert","user","updateUserInfo","createNewUser","url","id","method","headers","body","JSON","stringify","handleFormSubmit","bind","handleRegister","setUserProfile","undefined","handleSubmit","setLoginForm","handleChange","handleFormActivity","updateActivityInfo","createNewActivity","res","result","forEach","titel","location","date","description","document","getElementById","innerHTML","renderLoginForm","renderActivityForm","getAllactivity"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Nav from \"./components/Nav\";\nimport About from \"./components/About\";\nimport UserForm from \"./components/UserForm\"\nimport Activity from \"./components/Activity\";\nimport Profile from \"./components/Profile\"\nimport AllActivity from \"./components/AllActivity\"\n\nconst API_URL = 'http://localhost:3000/';\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      activeNav: \"home\",\n      userInfo: '',\n      username: '',\n      activity: [],\n      activityInfo: '',\n      activityForm: false,\n      loginForm: false,\n      userForm: false,\n      showProfile: false,\n\n\n    };\n  }\n  // control Nav\n  onNavClick = activeNav => {\n    this.setState({ activeNav });\n  };\n\n  // show the login form \n  setLoginForm() {\n    this.setState({\n      loginForm: !this.state.loginForm,\n      userForm: false,\n    });\n  }\n\n  handleChange(event) {\n    this.setState({\n      username: event.target.value\n    })\n  }\n\n  // handle the user name to check if he is registered or no \n  handleSubmit(event) {\n    event.preventDefault();\n\n    fetch(`${API_URL}user/${this.state.username}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          userInfo: data,\n          loginForm: false,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log('error in submit user: ', error);\n        alert(\"This username NOT Registered\");\n      })\n    console.log(\"this.state.userInfo:\", this.state.userInfo);\n  }\n  //handel thre form sumbmission if the user to create a new user or updtae user info\n  handleFormSubmit(user) {\n    this.state.userInfo ? this.updateUserInfo(user) : this.createNewUser(user)\n  }\n\n  // update user information in the database \n  updateUserInfo(user) {\n    console.log(\"update user info \", user);\n    const url = `${API_URL}user/${user.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          userInfo: data,\n          userForm: false\n        })\n      })\n      .catch(error => {\n        console.log(error);\n      })\n  }\n\n\n\n  // create user information in the database \n  createNewUser(user) {\n    const url = `${API_URL}user`\n    console.log(\"create user info\", user)\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(user)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create user info  data\", data)\n\n        this.setState({\n          userInfo: data,\n          userForm: false\n        })\n      })\n      .catch(error => {\n        console.log('create New User Error: ', error)\n        alert(\"Tnis username or email is Registerd.\");\n      })\n  }\n\n\n  //handel new user \n  handleRegister() {\n    this.setState({\n      userForm: !this.state.userForm,\n      loginForm: false\n    });\n  }\n\n\n  // render user form for the registeration\n  renderUserForm() {\n    return <UserForm userInfo={this.state.userInfo}\n      handleFormSubmit={this.handleFormSubmit.bind(this)}\n      handleRegister={this.handleRegister.bind(this)}\n    />\n  }\n\n  // render the user profile component\n  renderUserProfile() {\n    return <Profile user={this.state.userInfo}\n      handleRegister={this.handleRegister.bind(this)}\n      setUserProfile={this.setUserProfile.bind(this)}\n    />\n  }\n\n  // claer the state for log out\n  handleLogout() {\n    this.setState({\n      username: '',\n      userInfo: undefined,\n      showProfile: false,\n      userForm: false\n    })\n  }\n\n  //This function will render the log-in form it the login is true\n  renderLoginForm() {\n    return (\n      <div className=\"user-form\">\n        <form className=\"show-form\" onSubmit={this.handleSubmit.bind(this)}>\n          <div className=\"close-modal\" onClick={() => this.setLoginForm()}>x</div>\n          <label>Username: </label>\n          <input type=\"text\" placeholder=\"Enter username\" onChange={this.handleChange.bind(this)} />\n          <button>Login</button>\n        </form>\n      </div>\n    )\n  }\n  renderActivityForm() {\n    console.log(\"i am in render activity form\");\n    console.log(this.state.activityForm);\n    if (this.state.activityForm === true) {\n      return (\n        <Activity handleFormActivity={this.handleFormActivity.bind(this)}\n          userInfo={this.state.userInfo} />\n      )\n    }\n  }\n  //handel activity submit  \n  handleActivitySubmit(event) {\n    event.preventDefault();\n\n    fetch(`${API_URL}activity/${this.state.id}`)\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          activityInfo: data,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log('App.js handleSubmit function: ', error);\n\n      })\n    console.log(this.state.activityInfo);\n  }\n\n\n  //handel update and create activity \n  handleFormActivity(activity) {\n    this.state.activityInfo ? this.updateActivityInfo(activity) : this.createNewActivity(activity)\n  }\n\n\n  // update activity information in the database \n  updateActivityInfo(activity) {\n    console.log(\"update activity info\", activity);\n    const url = `${API_URL}activity/${activity.id}`\n\n    fetch(url, {\n      method: 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(activity)\n    })\n      .then(response => response.json())\n      .then(data => {\n        this.setState({\n          activityInfo: data,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log(\"update activity info error :\", error);\n      })\n  }\n\n\n  createNewActivity(activity) {\n    const url = `${API_URL}activity`\n    console.log(\"create new activity info\", activity)\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(activity)\n    })\n      .then(response => response.json())\n      .then(data => {\n        console.log(\"create new activity data\", data)\n\n        this.setState({\n          activityInfo: data,\n          activityForm: true\n        })\n      })\n      .catch(error => {\n        console.log('create New activity Error: ', error)\n      })\n  }\n\n  // getAllactivity(activity) {\n  //   console.log(\"get all activity info\", activity);\n  //   const url = `${API_URL}activity`\n\n  //   fetch(url, {\n  //     method: 'GET',\n  //     headers: {\n  //       \"Content-Type\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(activity)\n  //   })\n  //     .then(response => response.json())\n  //     .then(data => {\n  //       this.setState({\n  //         activity: data\n  //       })\n  //       console.log(\"get all activity data\", activity);\n\n  //     })\n  //     .catch(error => {\n  //       console.log(\"get all activity error\", error);\n  //     })\n  // }\n\n\n  getAllactivity(){ \nfetch(`${API_URL}activity`)\n        .then((res) => { return res.json() })\n        .then((data) => {\n            let result = `<h2> activity</h2>`;\n            data.forEach((activity) => {\n                const { titel, location, date,description  } = activity\n                result +=\n                     <div> \n                    <div className=\"card text-center\">\n                    <div className=\"card-header\">\n                      {titel}\n                    </div>\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">{location}</h5>\n                      <h6 className=\"card-title\">{date}</h6>\n                      <p className=\"card-text\">{description}</p>\n                      <a href=\"{activity.id}\" className=\"btn btn-primary\">Let's #have_fun 🌟</a>\n                    </div>\n                  </div>\n                  </div>\n                        document.getElementById('result').innerHTML = result;\n                    });\n                })\n              }\n                \n  // handelAllActivity(activity) {\n  //   return (\n  //     <div>\n  //       <div className=\"card text-center\">\n  //         <div className=\"card-header\">\n  //           {activity.titel}\n  //         </div>\n  //         <div className=\"card-body\">\n  //           <h5 className=\"card-title\">{activity.location}</h5>\n  //           <h6 className=\"card-title\">{activity.date}</h6>\n  //           <p className=\"card-text\">{activity.description}</p>\n  //           <a href=\"{activity.id}\" className=\"btn btn-primary\">Let's #have_fun 🌟</a>\n  //         </div>\n  //       </div>\n  //     </div>\n  //   )\n  // }\n\n\n\n  render() {\n    return (\n      <div>\n\n        <Nav\n          onNavClick={this.onNavClick}\n          active={this.state.activeNav}\n          navs={[\"Home\", \"About\", \"Activity\", \"Login\"]}\n          navsRef={[\"Home\", \"About\", \"Activity\", \"Login\"]}\n        />\n\n        <About />\n\n        {this.renderLoginForm()}\n        {this.renderActivityForm()}\n\n        <UserForm userInfo={this.state.userInfo}\n          handleFormSubmit={this.handleFormSubmit.bind(this)}\n          handleRegister={this.handleRegister.bind(this)}\n        />\n       {/* <AllActivity   activity={this.state.activity}  /> */}\n       {(getAllactivity)}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}